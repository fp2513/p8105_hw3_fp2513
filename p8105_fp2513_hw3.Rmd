---
title: "DataScience_HW3"
output: github_document
date: "2024-10-10"
---

```{r setup, include=FALSE}
library(p8105.datasets)
library(tidyverse)
library(dplyr)
library(lubridate)
library(rnoaa)

data("ny_noaa")
```

Size of dataset before data cleaning: 7 variables (columns) and 2595176 observations (rows). 

Variable names include: id, date, prcp, snow, snwd, tmax, tmin. 

There is a significant amount of missing data 

```{r}
filter(ny_noaa, (is.na(snow) | snow == "") &
         (is.na(tmin) | tmin == "") &
         (is.na(tmax) | tmax == "") &
         (is.na(prcp) | prcp == "")) %>% 
  nrow()
```
There are 73950 rows that have missing data in all four columns tmax, tmin, prcp, and snow. 

```{r}
filter(ny_noaa, (is.na(tmin) | tmin == "") &
         (is.na(tmax) | tmax == "")) %>% 
  nrow()
```
And 1132502 rows that have missing data for both coloumns tmax and tmin.

The missing data is an issue, as there is inconsistancy in the data / information. 

**Do some data cleaning. Create separate variables for year, month, and day.**

```{r}
dated_ny_noaa = 
  ny_noaa %>% 
  mutate(
    year = year(date),
    month = month(date),
    day = day(date)
  ) %>% 
  select(-date)
```

**Ensure observations for temperature, precipitation, and snowfall are given in reasonable units.**

Current units -->

- temperature in 10ths of degrees celcius (need to be converted to whole degrees celcius)

- precipitation in tenths of mm (to be converted to mm)

- snowfall in mm (can remain in mm or converted to cm)

```{r}
dated_ny_noaa = 
  dated_ny_noaa %>% 
  mutate(tmax = as.integer(tmax), 
         tmin = as.integer(tmin)) %>% 
  mutate(tmax = tmax / 10, 
         tmin = tmin / 10, 
         prcp = prcp / 10)
```

**For snowfall, what are the most commonly observed values? Why?**


